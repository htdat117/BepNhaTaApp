<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:background="@android:color/white">

    <!-- Header -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:gravity="center_vertical"
        android:padding="16dp">

        <ImageButton
            android:id="@+id/btnBack"
            android:layout_width="40dp"
            android:layout_height="40dp"
            android:background="@android:color/transparent"
            android:src="@drawable/ic_back"
            android:contentDescription="Back"
            app:tint="@color/primary1" />

        <TextView
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="Tải kế hoạch nấu ăn"
            android:textColor="@color/primary1"
            android:textSize="20sp"
            android:textStyle="bold"
            android:gravity="center" />
    </LinearLayout>

    <View
        android:layout_width="match_parent"
        android:layout_height="2dp"
        android:background="@color/primary1" />

    <!-- Scrollable body -->
    <ScrollView
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:fillViewport="true">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="16dp">

            <!-- Instruction -->
            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Chọn một kế hoạch đã lưu và ngày để tải kế hoạch đó vào. Nếu bạn đã có kế hoạch bữa ăn hiện tại vào ngày được chọn, chúng sẽ bị ghi đè."
                style="@style/Body.Regular.Ag3"
                android:textColor="@color/dark1"
                android:lineSpacingExtra="2dp"/>

            <!-- Saved plan row -->
            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:gravity="center_vertical"
                android:paddingTop="24dp">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Thực đơn được lưu"
                    android:layout_weight="1"
                    style="@style/Body.Regular.Ag3"
                    android:textColor="@color/dark1"/>

                <Spinner
                    android:id="@+id/spinnerSavedPlan"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:spinnerMode="dropdown"
                    android:paddingStart="16dp"
                    android:background="@drawable/ic_drop_down"/>
            </LinearLayout>

            <!-- Date row -->
            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:gravity="center_vertical"
                android:paddingTop="16dp">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Ngày"
                    android:layout_weight=".5"
                    style="@style/Body.Regular.Ag3"
                    android:textColor="@color/dark1"/>

                <!-- Date chooser -->
                <LinearLayout
                    android:id="@+id/btnChooseDate"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:paddingStart="16dp">

                    <ImageView
                        android:layout_width="20dp"
                        android:layout_height="20dp"
                        android:src="@drawable/ic_calendar"/>

                    <TextView
                        android:id="@+id/tvSelectedDate"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="8dp"
                        android:text="Thứ 3, Ngày 3 tháng 6"
                        android:textSize="16sp"
                        style="@style/Body.Regular.Ag3"
                        android:textColor="@color/primary1" />
                </LinearLayout>
            </LinearLayout>

            <!-- Next button -->
            <com.google.android.material.button.MaterialButton
                android:id="@+id/btnNext"
                android:layout_width="match_parent"
                android:layout_height="48dp"
                android:layout_marginTop="32dp"
                android:text="Tiếp tục"
                app:cornerRadius="16dp"
                android:textAllCaps="false"
                android:textColor="@color/white"
                style="@style/Body.Bold.Ag1"
                android:backgroundTint="@color/primary1"/>

            <!-- Extra bottom padding to avoid nav overlap -->
            <View
                android:layout_width="match_parent"
                android:layout_height="80dp"/>

        </LinearLayout>
    </ScrollView>

    <!-- Bottom navigation -->
    <include
        layout="@layout/layout_bottom_navigation"
        android:id="@+id/bottom_navigation_container"/>

</LinearLayout> 